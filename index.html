<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elemelon - 3D Adventure Game</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="stylesheet" href="src/styles/ui.css">
</head>
<body>
    <div id="gameContainer">
        <!-- Loading Screen -->
        <div id="loadingScreen" class="screen active">
            <div class="loading-content">
                <div class="game-logo">üçà ELEMELON</div>
                <div class="loading-spinner"></div>
                <div class="loading-text">Loading the grey world...</div>
                <div class="loading-progress">
                    <div class="progress-bar">
                        <div id="loadingProgressFill" class="progress-fill"></div>
                    </div>
                    <div id="loadingPercentage">0%</div>
                </div>
            </div>
        </div>

        <!-- Main Menu -->
        <div id="mainMenu" class="screen">
            <div class="menu-content">
                <h1 class="game-title">üçà ELEMELON</h1>
                <p class="game-subtitle">Escape the Grey World</p>
                <div class="menu-buttons">
                    <button id="newGameBtn" class="menu-btn primary">New Game</button>
                    <button id="loadGameBtn" class="menu-btn">Load Game</button>
                    <button id="settingsBtn" class="menu-btn">Settings</button>
                    <button id="creditsBtn" class="menu-btn">Credits</button>
                </div>
            </div>
        </div>

        <!-- Game Canvas -->
        <canvas id="gameCanvas"></canvas>

        <!-- Game UI Overlay -->
        <div id="gameUI" class="ui-overlay">
            <!-- Health Bar (Bottom Left) -->
            <div id="healthBar" class="ui-element health-bar">
                <div class="health-hearts">
                    <div class="heart full">‚ù§Ô∏è</div>
                    <div class="heart full">‚ù§Ô∏è</div>
                    <div class="heart full">‚ù§Ô∏è</div>
                    <div class="heart full">‚ù§Ô∏è</div>
                    <div class="heart full">‚ù§Ô∏è</div>
                    <div class="heart full">‚ù§Ô∏è</div>
                    <div class="heart full">‚ù§Ô∏è</div>
                    <div class="heart full">‚ù§Ô∏è</div>
                </div>
            </div>

            <!-- Tokens Display (Top Left) -->
            <div id="tokensDisplay" class="ui-element tokens">
                <div class="token-icon">ü™ô</div>
                <span id="tokenCount">20</span>
                <span class="token-label">Elemelon Tokens</span>
            </div>

            <!-- Inventory (Bottom Center) -->
            <div id="inventory" class="ui-element inventory">
                <div class="inventory-weapons">
                    <div class="weapon-slot empty" data-slot="0">
                        <div class="slot-number">1</div>
                    </div>
                    <div class="weapon-slot empty" data-slot="1">
                        <div class="slot-number">2</div>
                    </div>
                    <div class="weapon-slot empty" data-slot="2">
                        <div class="slot-number">3</div>
                    </div>
                </div>
                <div class="inventory-consumables">
                    <!-- 12 consumable slots will be generated by JavaScript -->
                </div>
            </div>

            <!-- Minimap (Bottom Right) -->
            <div id="minimap" class="ui-element minimap">
                <canvas id="minimapCanvas" width="150" height="150"></canvas>
                <button id="fullmapBtn" class="fullmap-btn">üó∫Ô∏è</button>
            </div>

            <!-- Crosshair (Center) -->
            <div id="crosshair" class="crosshair">
                <div class="crosshair-dot"></div>
                <div class="crosshair-lines">
                    <div class="line horizontal"></div>
                    <div class="line vertical"></div>
                </div>
            </div>
        </div>

        <!-- Full Screen Map -->
        <div id="fullMap" class="screen map-screen">
            <div class="map-header">
                <h2>Elemelon World Map</h2>
                <button id="closeMapBtn" class="close-btn">‚úï</button>
            </div>
            <canvas id="fullMapCanvas" width="800" height="600"></canvas>
            <div class="map-legend">
                <div class="legend-item">
                    <div class="legend-color player"></div>
                    <span>You</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color temple"></div>
                    <span>Temples</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color shop"></div>
                    <span>Shops</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color portal"></div>
                    <span>Portal (Locked)</span>
                </div>
            </div>
        </div>

        <!-- Cutscene Overlay -->
        <div id="cutsceneOverlay" class="screen cutscene">
            <div id="cutsceneVideo" class="cutscene-content">
                <!-- Cutscene content will be rendered here -->
            </div>
            <div id="cutsceneText" class="cutscene-text">
                <p id="dialogueText"></p>
                <button id="skipCutsceneBtn" class="skip-btn">Skip ‚Üí</button>
            </div>
        </div>

        <!-- Pause Menu -->
        <div id="pauseMenu" class="screen pause-screen">
            <div class="pause-content">
                <h2>Game Paused</h2>
                <div class="pause-buttons">
                    <button id="resumeBtn" class="menu-btn">Resume</button>
                    <button id="saveGameBtn" class="menu-btn">Save Game</button>
                    <button id="pauseSettingsBtn" class="menu-btn">Settings</button>
                    <button id="quitToMenuBtn" class="menu-btn">Main Menu</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r158/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/controls/PointerLockControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/loaders/GLTFLoader.js"></script>
    
    <!-- Game Scripts -->
    <script src="src/core/GameEngine.js"></script>
    <script src="src/core/SceneManager.js"></script>
    <script src="src/core/InputManager.js"></script>
    <script src="src/core/AudioManager.js"></script>
    <script src="src/core/SaveManager.js"></script>
    
    <script src="src/entities/Player.js"></script>
    <script src="src/entities/NPC.js"></script>
    <script src="src/entities/Enemy.js"></script>
    
    <script src="src/world/World.js"></script>
    <script src="src/world/Temple.js"></script>
    <script src="src/world/Shop.js"></script>
    
    <script src="src/ui/UIManager.js"></script>
    <script src="src/ui/Inventory.js"></script>
    <script src="src/ui/Minimap.js"></script>
    
    <script src="src/scenes/CutsceneManager.js"></script>
    <script src="src/scenes/GameplayScene.js"></script>
    
    <script src="src/utils/Utils.js"></script>
    <script src="src/Game.js"></script>
</body>
</html>